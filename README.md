# DragonGate-SmartTourism
解决传统文旅 “文化传播弱、文物解读浅、管理效率低” 的痛点，打造集「智能导览、领域知识库问答、景区数字化管理」于一体的全栈解决方案
# 畅游龙门微信小程序 - 项目 README.md

## 项目介绍
### 1. 项目背景
随着文旅融合与数字化创新成为传统文化传承的核心方向，洛阳龙门石窟作为“中国石刻艺术的最高峰”，面临文化传播效能不足、游客体验碎片化、管理效率待提升等现实挑战。为解决上述问题，本项目构建了集**智能导览、文化体验、管理服务于一体**的前后端分离系统，助力景区智慧化建设，实现龙门石窟文化的数字化传播与旅游服务升级。

### 2. 项目目标
- 为游客提供沉浸式智能导览、便捷的文创购物及活动参与体验；
- 为景区管理员提供高效的用户管理、内容审核、商品管控及导览数据维护功能；
- 实现“用户服务精准化、管理流程智能化、数据交互安全化”，打破传统旅游服务的功能局限。


## 技术栈
### 1. 后端技术
| 技术框架/工具       | 用途说明                                                                 |
|---------------------|--------------------------------------------------------------------------|
| SpringBoot          | 轻量级后端框架，实现自动化配置、高效开发与稳定部署，支撑核心业务逻辑       |
| MyBatis Plus        | 数据持久化增强工具，简化CRUD操作，提升数据库交互效率                     |
| MySQL 5.7+/8.0      | 关系型数据库，存储用户信息、商品数据、景点路线等结构化数据               |
| Maven               | 项目构建与依赖管理工具                                                   |

### 2. 前端技术
| 技术框架/工具       | 用途说明                                                                 |
|---------------------|--------------------------------------------------------------------------|
| Vue.js              | 后台管理系统前端框架，基于组件化开发与数据驱动，实现响应式管理界面       |
| UniApp              | 跨平台小程序开发框架，实现“一次开发，多端适配”（微信小程序、iOS/Android）|
| Axios               | 前后端数据交互工具，处理HTTP请求与响应                                   |
| 高德地图API         | 提供景区地图渲染、景点坐标选择及路线规划功能                             |

### 3. 数据存储与第三方服务
- **COS对象存储**：存储景点图片、商品封面、活动海报等非结构化数据，支持CDN加速；
- **AI服务**：提供景点智能讲解生成（支持入门/进阶/专业三级深度）、游客问答交互（“龙门小龛”AI助手）；


## 核心功能模块
项目分为**后台管理系统**与**前台微信小程序**两大主体，功能模块划分如下：

### 1. 后台管理系统（Vue.js 开发）
#### 1.1 权限控制
- 支持两种角色：**超级管理员（admin）** 与 **子管理员（subadmin）**；
  - admin：拥有全量功能权限（如用户删除、活动审核、商品上架）；
  - subadmin：仅拥有基础操作权限（如查看用户、新增活动草稿），敏感操作需admin审核。

#### 1.2 核心功能模块
| 模块名称       | 具体功能                                                                 |
|----------------|--------------------------------------------------------------------------|
| 用户管理       | - 增删改查游客/管理员账号；<br>- 权限校验（仅admin可删除用户）；<br>- 多条件检索（姓名、注册时间） |
| 通知管理       | - 活动管理：新增/编辑/删除活动（含封面、时间、内容），admin审核后前台展示；<br>- 告示管理：发布景区公告（图文+上下线时间）；<br>- 警示管理：维护系统重要提醒信息 |
| 商品管理       | - 商品类型管理：新增/编辑/删除商品分类（如“文具”“明信片”“食品”）；<br>- 商品信息管理：维护商品名称、价格、库存、封面，支持上下架审核 |
| 导览管理       | - 景点管理：新增/编辑景点（名称、位置、图片、介绍），支持高德地图API选择坐标；<br>- 路线管理：创建游览路线，关联景点并调整顺序 |

### 2. 前台微信小程序（UniApp 开发）
#### 2.1 核心功能模块
| 模块名称       | 具体功能                                                                 |
|----------------|--------------------------------------------------------------------------|
| 登录注册       | - 游客账号由管理员后台创建，支持前台密码修改；<br>- 账号密码验证，错误提示（“用户不存在”“密码错误”） |
| 首页模块       | - 活动轮播：展示admin审核通过的活动，点击查看详情；<br>- 预约订票：选择门票类型（成人/学生/儿童/老人票）与日期；<br>- 公告栏：展示景区最新告示，支持分享 |
| 地图导览       | - 景区地图渲染：显示景点位置与名称；<br>- 景点详情：查看景点介绍、坐标，支持AI讲解生成；<br>- 周边推荐：关联展示邻近景点 |
| 文创商城       | - 商品浏览：按类型筛选（文具/明信片等）、关键词搜索；<br>- 购物车：添加商品、查看数量与价格 |
| 个人中心       | - 信息管理：查看/修改用户名、头像、性别、年龄；<br>- 订单管理：查看已预约门票；<br>- 购物车：管理选购商品；<br>- 退出登录：清除会话状态 |

#### 2.2 AI助手功能
- **龙门小龛**：嵌入各核心页面，提供实时问答（如景区历史、游览路线咨询）；
- **AI讲解**：景点详情页支持生成300-500字讲解文本，支持重复生成（文本相似度＜70%），分“入门/进阶/专业”三级深度。


## 环境配置
### 1. 开发工具
- 后端：IntelliJ IDEA 2021+（或Eclipse）
- 前端（后台管理）：Visual Studio Code
- 小程序（前台）：HBuilderX（UniApp专用）、微信开发者工具
- 数据库：Navicat 15+（或MySQL Workbench）

### 2. 环境要求
| 环境/依赖       | 版本要求                                                                 |
|-----------------|--------------------------------------------------------------------------|
| JDK             | 1.8 及以上                                                               |
| Node.js         | 14.x 及以上（支撑Vue.js与UniApp）                                         |
| MySQL           | 5.7 及以上 / 8.0 及以上                                                  |
| Maven           | 3.6.x 及以上                                                             |
| 微信开发者工具 | 稳定版（支持小程序基础库 2.20.0+）                                       |

### 3. 部署步骤
#### 3.1 后端部署
1. 克隆项目代码至本地，使用IntelliJ IDEA打开后端工程；
2. 配置`application.yml`：
   - 修改MySQL连接信息（url、username、password）；
   - 配置COS对象存储密钥（SecretId、SecretKey、BucketName）；
   - 配置高德地图API密钥；
3. 执行Maven依赖安装：`mvn clean install`；
4. 初始化数据库：导入项目根目录下的`sql/changyou_longmen.sql`脚本（含10张核心表）；
5. 启动SpringBoot应用：运行`LongmenApplication.java`。

#### 3.2 前台部署
1. 后台管理系统（Vue.js）：
   - 进入`frontend/admin`目录，执行`npm install`安装依赖；
   - 执行`npm run serve`启动开发环境，访问地址：`http://localhost:8080`；
2. 微信小程序（UniApp）：
   - 使用HBuilderX打开`frontend/miniprogram`项目；
   - 配置`manifest.json`：填写微信小程序AppID；
   - 连接微信开发者工具，点击“HBuilderX -> 运行 -> 运行到微信小程序模拟器”。


## 使用说明
### 1. 后台管理系统使用
1. 访问后台地址`http://localhost:8080`，输入管理员账号（默认`admin`，密码`123456`）；
2. **用户管理**：进入“用户管理”模块，可新增/编辑/删除用户，查看用户详情；
3. **活动发布**：进入“活动管理”模块，点击“新增活动”，填写标题、封面、时间、内容，提交后由admin审核；
4. **商品上架**：先在“商品类型”模块创建分类，再在“商品信息”模块新增商品并关联类型，审核通过后前台可见；
5. **导览维护**：在“景点管理”模块添加景点（支持地图选点），在“路线管理”模块创建路线并关联景点。

### 2. 前台小程序使用
1. 打开微信开发者工具，加载小程序项目，进入登录页面；
2. 输入管理员后台创建的游客账号（如`yangfan`，密码`123456`），登录后进入首页；
3. **预约订票**：点击“预约订票”，选择日期与票种，提交预约；
4. **地图导览**：点击“地图导览”，查看景区地图，点击景点卡片查看详情，支持生成AI讲解；
5. **文创购物**：进入“文创商城”，浏览商品并加入购物车，在“我的购物车”中管理商品；
6. **个人中心**：点击“我的”，可修改个人信息、查看门票订单、退出登录。


## 项目结构
```
changyou-longmen/
├── backend/                # 后端SpringBoot工程
│   ├── src/main/java/com/longmen/
│   │   ├── controller/     # 接口控制层（用户、活动、商品、导览）
│   │   ├── service/        # 业务逻辑层
│   │   ├── mapper/         # 数据访问层（MyBatis Plus）
│   │   ├── entity/         # 实体类（用户、活动、商品等）
│   │   ├── config/         # 配置类（数据库、权限、跨域）
│   │   └── LongmenApplication.java # 启动类
│   └── src/main/resources/
│       ├── application.yml # 全局配置
│       └── mybatis/        # MyBatis映射文件
├── frontend/               # 前端工程
│   ├── admin/              # 后台管理系统（Vue.js）
│   │   ├── src/
│   │   │   ├── views/      # 管理页面（用户、活动、商品等）
│   │   │   ├── components/ # 通用组件
│   │   │   ├── api/        # 接口请求
│   │   │   └── main.js     # 入口文件
│   └── miniprogram/        # 微信小程序（UniApp）
│       ├── pages/          # 小程序页面（登录、首页、导览、商城、我的）
│       ├── components/     # 小程序组件
│       └── static/         # 静态资源（图片、样式）
└── sql/                    # 数据库脚本
    └── changyou_longmen.sql # 初始化脚本（10张核心表）
```


## 测试结果
根据系统测试（论文第5章），项目核心功能测试通过率达**98%**，覆盖以下模块：
1. **登录模块**：身份验证准确，权限区分清晰（admin/subadmin/游客）；
2. **用户模块**：前后台数据同步，删除操作权限控制有效；
3. **通知模块**：活动审核后前台同步展示，上下线时间控制精准；
4. **商品模块**：类型联动正常，购物车数据交互无误；
5. **导览模块**：地图缩放流畅，AI讲解生成准确；
6. **AI助手模块**：对话响应及时（＜5秒），异常输入处理友好。

系统无明显功能缺陷，满足景区日常管理与游客服务需求，具备试运行条件。


## 未来优化方向
1. **安全性增强**：引入OAuth 2.0认证机制，提升登录安全性；
2. **性能优化**：采用数据库读写分离架构，支撑高并发场景；
3. **架构升级**：拆分微服务（用户服务、导览服务、商品服务），提升系统扩展性；
4. **体验优化**：增加VR沉浸式导览、游客行为分析推荐功能；
5. **运维优化**：引入分布式缓存（Redis），减少数据库访问压力。
